# Practice_L0

Приложение состоит из двух основных сервисов: Producer и Consumer, которые взаимодействуют с Kafka и PostgreSQL. Producer отправляет данные в Kafka, а Consumer читает данные из Kafka и обрабатывает их, сохраняя в базе данных PostgreSQL.

## Требования

Docker
Docker Compose — Для упрощенного управления многоконтейнерной средой.
Go (version go1.23.2)

## Запуск проекта

 ```markdown
  1. Склонируйте репозиторий:
      ```bash
      git clone https://github.com/Pumpkin-A/Practice_L0.git
      ```

    3. Запустите проект:
     ```bash
      docker-compose up --build
      ```
```

# Producer 

Скрипт для генерации заказов и отправки в топик "orders" в Kafka, используя библиотеку для работы с Kafka в Go. Для генерации случайных данных использована библиотека gofakeit. Данные отправляются в заданный интервал времени.

# Consumer 

## Consumer
Для получения данных из кафки создана группа слушателей "bank". 

## Handlers 


## Order Manager


## CACHE
Кэш хранится в оперативной памяти. Оперативная память сервиса ограничена, поэтому внутри сервиса необходимо контролировать размер кэша. Из-за этого в процессе работы сервиса количество заказов в базе будет превышать максимальное количество заказов в кэше, и поэтому необходимо выбрать стратегию поддержания актуальности кэша. В условии ТЗ не прописан паттерн чтения данных, поэтому для вымещения ордеров из кэша была выбрана стратегия вымещения по времени создания (удалять наиболее старые). Максимальный размер кэша определяется в количестве заказов, это число хранится в конфиге сервиса.

При инициализации сервиса кэш заполняется последними вставленными в бд заказами. 
